<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Business Finance Web App</title>
  <link rel="stylesheet" href="./app.css" />
  <meta name="color-scheme" content="light dark">
</head>
<body>
  <div id="app">
    <header class="topbar">
      <div class="brand">
        <div class="logo">BF</div>
        <div>
          <div class="title">Business Finance</div>
          <div class="subtitle">No-backend • Local Storage • Works on GitHub Pages</div>
        </div>
      </div>
      <div class="top-actions">
        <button class="btn" id="btnExport" title="Download your data as JSON">Export</button>
        <label class="btn ghost" for="importFile" title="Import JSON backup">Import</label>
        <input id="importFile" type="file" accept="application/json" hidden />
        <button class="btn ghost" id="btnReset" title="Reset to empty (careful)">Reset</button>
        <div class="user-pill" id="userPill"></div>
      </div>
    </header>

    <div class="layout">
      <aside class="sidebar">
        <nav class="nav">
          <a href="#/dashboard" class="nav-link" data-route="dashboard">Dashboard</a>
          <a href="#/clients" class="nav-link" data-route="clients">Clients (Receivable)</a>
          <a href="#/vendors" class="nav-link" data-route="vendors">Vendors (Payable)</a>
          <a href="#/sales" class="nav-link" data-route="sales">Sales</a>
          <a href="#/purchases" class="nav-link" data-route="purchases">Purchases</a>
          <a href="#/expenses" class="nav-link" data-route="expenses">Expenses</a>
          <a href="#/cash" class="nav-link" data-route="cash">Cashbook</a>
          <a href="#/reports" class="nav-link" data-route="reports">Reports</a>
          <a href="#/settings" class="nav-link" data-route="settings">Settings</a>
        </nav>
        <div class="sidebar-footer">
          <button class="btn small danger" id="btnLogout">Logout</button>
          <div class="hint">Tip: Use Settings → change passwords. Data stays in this browser.</div>
        </div>
      </aside>

      <main class="content" id="view"></main>
    </div>
  </div>

  <!-- Login Modal -->
  <dialog id="loginDialog">
    <form method="dialog" class="card login-card" id="loginForm">
      <h2>Login</h2>
      <p class="muted">Default: <b>admin/admin123</b> • <b>manager/manager123</b></p>
      <div class="grid2">
        <label>
          Username
          <input id="loginUser" autocomplete="username" required />
        </label>
        <label>
          Password
          <input id="loginPass" type="password" autocomplete="current-password" required />
        </label>
      </div>
      <div class="row">
        <button class="btn" id="btnLogin">Login</button>
        <button type="button" class="btn ghost" id="btnFillDemo">Fill Demo</button>
      </div>
      <div class="error" id="loginErr" hidden></div>
      <div class="muted tiny">If buttons don’t work on GitHub Pages, your JS file wasn’t loading. This pack uses relative paths.</div>
    </form>
  </dialog>

  <script src="./app.js"></script>
</body>
</html>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.10.0/firebase-app.js";
import { getFirestore } from "https://www.gstatic.com/firebasejs/12.10.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "YOUR_KEY",
  authDomain: "YOUR_DOMAIN",
  projectId: "YOUR_PROJECT",
  storageBucket: "YOUR_BUCKET",
  messagingSenderId: "YOUR_ID",
  appId: "YOUR_APP_ID"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
</script>
